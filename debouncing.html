<html>
<script>
let timeout ;
function debounce(){
    clearTimeout(timeout);
    timeout = setTimeout(cal,1000);
}
function populateDiv() {
    const a = document.getElementById("firstNumber").value;
    const b = document.getElementById("secondNumber").value;
    const element = document.getElementById("finalSum");
    
    // fetch
    const ans1 =fetch("https://sum-server.100xdevs.com/sum?a=" + a + "&b=" + b)
    .then(function(res){
        res.text()
        .then(function(ans){
            console.log(ans);
            element.innerHTML = ans;
        })
    })
   
}
async function pop(){
    const a = document.getElementById("firstNumber").value;
    const b = document.getElementById("secondNumber").value;
    const element = document.getElementById("finalSum");

    const response =await fetch("https://sum-server.100xdevs.com/sum?a=" + a + "&b=" + b)
    const final  = await response.text()
    element.innerHTML = final;
    }

async function cal(){
    const a = document.getElementById("PRinciple").value;
    const b = document.getElementById("Rate of Interest").value;
    const c = document.getElementById("Duration").value;
    const element = document.getElementById("finalSum");
    const response =await fetch("https://sum-server.100xdevs.com/interest?principal="+ a +"&rate= " +b + "&time="+ c);
    const final  = await response.json()
    element.innerHTML = final.total;
}
</script>
<body>
<input id="PRinciple" type="text" placeholder="principle" oninput="debounce()"><br>
<input id="Rate of Interest" type="text" placeholder="roi" oninput="debounce()" ><br><br>
<input id="Duration" type="text" placeholder="duration" oninput="debounce()" ><br><br>
<br><br>
<div id="finalSum"></div>
</body>
</html>
